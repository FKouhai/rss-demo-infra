# RSS Demo Infrastructure

This project provides the infrastructure for a demo RSS feed processing and notification system.

It leverages Kubernetes, Nix and [nixidy](https://github.com/arnarg/nixidy) to manage the microservices for this demo.

## Architecture Overview

The system consists of the following microservices:

*   **Poller:** Responsible for polling RSS feeds at specified intervals
*   **Frontend:**  Provides a user interface for interacting with the system
*   **Notify:** Handles sending notifications to discord

## Getting Started

1.  **Prerequisites:**
    *   Kubernetes cluster
    *   `nix` installed
    *   `kubectl` configured to connect to your Kubernetes cluster
    *   `argocd` deployed
    *   `traefik` deployed
2.  **Project Setup:**
    ```bash
    # Clone the repository
    git clone https://github.com/FKouhai/rss-demo-infra.git
    cd rss-demo-infra
    ```
3.  **Manifest Generation:**
    The infrastructure manifests are generated using nixidy.

    To generate the manifests:
    ```bash
    nix develop
    nixidy switch .#dev
    ```
    This command builds the `dev` modules which generates the Kubernetes and ArgoCD manifests.

## Deployment

The infrastructure is deployed using Kubernetes manifests generated by Nix.

The manifests define the deployments, services, and ingress resources for each microservice.

When a change is done to either of the files under `./env/dev/` and said changed are merged into  main a github workflow will run to generate the updated manifests

creating a new branch (currently the workflow is unable to create a PR) so that a PR can be created,reviewed and merged.
